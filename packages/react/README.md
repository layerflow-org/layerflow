# @layerflow/react

> **React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –≥—Ä–∞—Ñ–æ–≤ LayerFlow.**
>
> –ú–æ—â–Ω—ã–µ, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –±–∞–∑–µ Cytoscape.js –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –¥–∏–∞–≥—Ä–∞–º–º —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π LFF-–∫–æ–¥–∞, live-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ collaborative-—Ä–µ–∂–∏–º–∞.

---

## üì¶ –û–ø–∏—Å–∞–Ω–∏–µ

`@layerflow/react` ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º–∏ –≥—Ä–∞—Ñ–∞–º–∏ LayerFlow. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ –ø—Ä—è–º—É—é –ø–µ—Ä–µ–¥–∞—á—É AST-–º–æ–¥–µ–ª–∏, —Ç–∞–∫ –∏ live-–ø–∞—Ä—Å–∏–Ω–≥ LFF-–∫–æ–¥–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å `@layerflow/core` –∏ `@layerflow/parser`, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø–æ–ª–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π LayerFlow.

---

## üîë –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:** Cytoscape.js —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π zoom, pan, selection, drilling
- **–ú–Ω–æ–≥–æ—Ä–µ–∂–∏–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** —Ç–æ–ª—å–∫–æ –≥—Ä–∞—Ñ, –≥—Ä–∞—Ñ + —Ä–µ–¥–∞–∫—Ç–æ—Ä, –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
- **Live-–ø–∞—Ä—Å–∏–Ω–≥ LFF:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞
- **Bidirectional sync:** –∏–∑–º–µ–Ω–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç –∫–æ–¥
- **–¢–µ–º—ã –∏ —Å—Ç–∏–ª–∏:** C4 Model, DevOps, Kubernetes, –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–µ–º—ã
- **Collaborative editing:** real-time —Å–æ–≤–º–µ—Å—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ Yjs
- **TypeScript-first:** –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
- **Responsive design:** –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤—ë—Ä—Å—Ç–∫–∞ –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **Plugin support:** —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –ø–ª–∞–≥–∏–Ω–æ–≤
- **Performance:** –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –±–æ–ª—å—à–∏—Ö –≥—Ä–∞—Ñ–æ–≤

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pnpm add @layerflow/react @layerflow/core @layerflow/parser
```

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```tsx
import React from 'react';
import { LayerFlowGraph, LayerFlowEditor, LayerFlowViewer } from '@layerflow/react';

// 1. –ü—Ä–æ—Å—Ç–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –∫–æ–¥—É
function App() {
  const lffCode = `
    frontend: Frontend App [service]
    backend: Backend API [service] 
    database: PostgreSQL [database]
    
    frontend -> backend: API calls
    backend -> database: SQL queries
  `;

  return (
    <LayerFlowViewer
      code={lffCode}
      theme="c4-model"
      height="600px"
    />
  );
}

// 2. –ü–æ–ª–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å –∫–æ–¥–æ–º
function ArchitectureEditor() {
  const [code, setCode] = React.useState(lffCode);
  
  return (
    <LayerFlowEditor
      code={code}
      onCodeChange={setCode}
      showCodePanel={true}
      theme="devops"
      layout="split-horizontal"
      height="800px"
    />
  );
}

// 3. –ì—Ä–∞—Ñ –ø–æ –≥–æ—Ç–æ–≤–æ–π AST-–º–æ–¥–µ–ª–∏
function GraphFromModel() {
  const [ast, setAst] = React.useState(myASTModel);
  
  return (
    <LayerFlowGraph
      ast={ast}
      onASTChange={setAst}
      interactive={true}
      theme="kubernetes"
      showMinimap={true}
    />
  );
}
```

### Collaborative —Ä–µ–∂–∏–º

```tsx
import { LayerFlowCollaborativeEditor } from '@layerflow/react';
import { YjsProvider } from '@layerflow/collab';

function CollabEditor() {
  const provider = new YjsProvider('ws://localhost:1234', 'my-document');
  
  return (
    <LayerFlowCollaborativeEditor
      provider={provider}
      showCursors={true}
      showUserList={true}
      enableVoiceChat={false}
      theme="c4-model"
    />
  );
}
```

---

## üìö –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### LayerFlowViewer

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≥—Ä–∞—Ñ–æ–≤ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```tsx
<LayerFlowViewer
  // –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (–æ–¥–∏–Ω –∏–∑):
  code="frontend -> backend"           // LFF –∫–æ–¥
  ast={astModel}                      // –ì–æ—Ç–æ–≤–∞—è AST –º–æ–¥–µ–ª—å
  file="/path/to/diagram.lff"         // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ —Ñ–∞–π–ª–∞
  url="https://api.example.com/graph" // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ URL
  
  // –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
  theme="c4-model"                    // –¢–µ–º–∞: c4-model, devops, kubernetes, custom
  layout="force-directed"             // –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å–∫–ª–∞–¥–∫–∏
  height="600px"                      // –í—ã—Å–æ—Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  width="100%"                        // –®–∏—Ä–∏–Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  
  // –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
  zoomEnabled={true}                  // –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑—É–º–∏—Ä–æ–≤–∞–Ω–∏—è
  panEnabled={true}                   // –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è
  selectionEnabled={false}            // –í—ã–¥–µ–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  showMinimap={true}                  // –ú–∏–Ω–∏-–∫–∞—Ä—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  
  // –°–æ–±—ã—Ç–∏—è
  onNodeClick={(node) => {}}          // –ö–ª–∏–∫ –ø–æ —É–∑–ª—É
  onEdgeClick={(edge) => {}}          // –ö–ª–∏–∫ –ø–æ —Å–≤—è–∑–∏
  onBackgroundClick={() => {}}        // –ö–ª–∏–∫ –ø–æ —Ñ–æ–Ω—É
  onZoomChange={(zoom) => {}}         // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑—É–º–∞
/>
```

### LayerFlowEditor

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –∏ –≥—Ä–∞—Ñ–∞:

```tsx
<LayerFlowEditor
  // –î–∞–Ω–Ω—ã–µ
  code={lffCode}                      // –ù–∞—á–∞–ª—å–Ω—ã–π LFF –∫–æ–¥
  onCodeChange={(code) => {}}         // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞
  onASTChange={(ast) => {}}           // –ò–∑–º–µ–Ω–µ–Ω–∏–µ AST –º–æ–¥–µ–ª–∏
  
  // –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  showCodePanel={true}                // –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞–Ω–µ–ª—å –∫–æ–¥–∞
  showPropertiesPanel={false}         // –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤
  showLayersPanel={true}              // –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞–Ω–µ–ª—å —Å–ª–æ—ë–≤
  layout="split-horizontal"           // –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: split-horizontal, split-vertical, tabs
  
  // –†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞
  codeEditorProps={{
    language: 'lff',
    theme: 'vs-dark',
    fontSize: 14,
    wordWrap: true,
    minimap: { enabled: false }
  }}
  
  // –í–∞–ª–∏–¥–∞—Ü–∏—è
  enableValidation={true}             // –í–∫–ª—é—á–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
  showErrors={true}                   // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏
  showWarnings={true}                 // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
  
  // –ê–≤—Ç–æ-—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
  autoSave={true}                     // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
  autoSaveInterval={2000}             // –ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–º—Å)
  
  // –°–æ–±—ã—Ç–∏—è
  onSave={(code, ast) => {}}          // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
  onExport={(format) => {}}           // –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç—ã
  onValidationChange={(errors) => {}} // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
/>
```

### LayerFlowGraph

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–æ—Ç–æ–≤–æ–π AST-–º–æ–¥–µ–ª—å—é:

```tsx
<LayerFlowGraph
  // –ú–æ–¥–µ–ª—å
  ast={astModel}                      // AST –º–æ–¥–µ–ª—å
  onASTChange={(ast) => {}}           // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
  
  // –†–µ–∂–∏–º
  interactive={true}                  // –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  readOnly={false}                    // –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ
  
  // –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è
  theme="devops"                      // –¢–µ–º–∞
  customStyles={cyStylesheet}         // –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ Cytoscape
  
  // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
  enableDragAndDrop={true}            // Drag & Drop —É–∑–ª–æ–≤
  enableContextMenu={true}            // –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
  enableKeyboardShortcuts={true}      // –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
  
  // –ü–ª–∞–≥–∏–Ω—ã
  plugins={[c4Plugin, devopsPlugin]}  // –ú–∞—Å—Å–∏–≤ –ø–ª–∞–≥–∏–Ω–æ–≤
  
  // –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  virtualizeNodes={1000}              // –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à—ã—Ö –≥—Ä–∞—Ñ–æ–≤
  enableClustering={true}             // –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è —É–∑–ª–æ–≤
/>
```

### LayerFlowCollaborativeEditor

Collaborative-—Ä–µ–¥–∞–∫—Ç–æ—Ä —Å real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π:

```tsx
<LayerFlowCollaborativeEditor
  // –ö–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏—è
  provider={yjsProvider}              // Yjs Provider
  user={{                             // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
    id: 'user-123',
    name: 'John Doe',
    color: '#ff6b6b'
  }}
  
  // UI –∫–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏–∏
  showCursors={true}                  // –ö—É—Ä—Å–æ—Ä—ã –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  showUserList={true}                 // –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  showUserAvatars={true}              // –ê–≤–∞—Ç–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  enableVoiceChat={false}             // –ì–æ–ª–æ—Å–æ–≤–æ–π —á–∞—Ç
  enableTextChat={true}               // –¢–µ–∫—Å—Ç–æ–≤—ã–π —á–∞—Ç
  
  // –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã
  conflictResolution="last-write-wins" // –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
  showConflictIndicators={true}       // –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
  
  // –°–æ–±—ã—Ç–∏—è
  onUserJoin={(user) => {}}           // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  onUserLeave={(user) => {}}          // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  onConflict={(conflict) => {}}       // –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
/>
```

---

## üé® –¢–µ–º—ã –∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–µ–º—ã

```tsx
// C4 Model - –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –Ω–æ—Ç–∞—Ü–∏—è
<LayerFlowViewer theme="c4-model" />

// DevOps - –¥–ª—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ CI/CD
<LayerFlowViewer theme="devops" />

// Kubernetes - –¥–ª—è cloud-native –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä
<LayerFlowViewer theme="kubernetes" />

// –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞
<LayerFlowViewer theme="minimal-light" />

// –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
<LayerFlowViewer theme="dark-professional" />
```

### –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ç–µ–º–∞

```tsx
const customTheme = {
  name: 'my-theme',
  nodes: {
    service: {
      backgroundColor: '#3498db',
      borderColor: '#2980b9',
      color: '#ffffff',
      shape: 'round-rectangle'
    },
    database: {
      backgroundColor: '#e74c3c',
      borderColor: '#c0392b',
      color: '#ffffff',
      shape: 'ellipse'
    }
  },
  edges: {
    default: {
      lineColor: '#95a5a6',
      targetArrowColor: '#95a5a6',
      width: 2
    }
  }
};

<LayerFlowViewer theme={customTheme} />
```

---

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ–∞–π–ª–∞–º–∏

### –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ —Ñ–∞–π–ª–∞

```tsx
function FileViewer() {
  const [file, setFile] = React.useState(null);
  
  return (
    <div>
      <input 
        type="file" 
        accept=".lff,.layerflow,.lf"
        onChange={(e) => setFile(e.target.files[0])}
      />
      
      {file && (
        <LayerFlowViewer
          file={file}
          theme="c4-model"
          height="600px"
        />
      )}
    </div>
  );
}
```

### –≠–∫—Å–ø–æ—Ä—Ç –∏ –∑–∞–≥—Ä—É–∑–∫–∞

```tsx
function EditorWithExport() {
  const editorRef = React.useRef(null);
  
  const handleExport = async (format) => {
    const data = await editorRef.current.export(format);
    
    // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
    const blob = new Blob([data], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `diagram.${format}`;
    a.click();
  };
  
  return (
    <>
      <LayerFlowEditor
        ref={editorRef}
        code={code}
        onCodeChange={setCode}
      />
      
      <div>
        <button onClick={() => handleExport('lff')}>–≠–∫—Å–ø–æ—Ä—Ç LFF</button>
        <button onClick={() => handleExport('mermaid')}>–≠–∫—Å–ø–æ—Ä—Ç Mermaid</button>
        <button onClick={() => handleExport('plantuml')}>–≠–∫—Å–ø–æ—Ä—Ç PlantUML</button>
        <button onClick={() => handleExport('json')}>–≠–∫—Å–ø–æ—Ä—Ç JSON</button>
        <button onClick={() => handleExport('png')}>–≠–∫—Å–ø–æ—Ä—Ç PNG</button>
      </div>
    </>
  );
}
```

---

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–æ–ª—å—à–∏—Ö –≥—Ä–∞—Ñ–æ–≤

```tsx
<LayerFlowGraph
  ast={largeAST}
  // –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —É–∑–ª–æ–≤
  virtualizeNodes={1000}
  
  // –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —É–∑–ª–æ–≤
  enableClustering={true}
  clusterThreshold={50}
  
  // –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
  lazyLoadLevels={true}
  maxVisibleLevels={3}
  
  // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
  enableWebGL={true}
  batchUpdates={true}
  updateThrottle={16} // 60fps
/>
```

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞

```tsx
const simpleArchitecture = `
  // C4 Model Example
  user: User [person]
  
  level 0 {
    webapp: Web Application [software_system]
    mobile: Mobile App [software_system]
  }
  
  level 1 {
    api: API Gateway [container]
    auth: Auth Service [container]
    business: Business Logic [container]
  }
  
  level 2 {
    db: Database [component]
    cache: Redis Cache [component]
  }
  
  user -> webapp: Uses
  user -> mobile: Uses
  webapp -> api: HTTPS
  mobile -> api: HTTPS
  api -> auth: Validates
  api -> business: Routes
  business -> db: Queries
  business -> cache: Caches
`;

<LayerFlowEditor
  code={simpleArchitecture}
  theme="c4-model"
  showCodePanel={true}
  height="800px"
/>
```

### DevOps pipeline

```tsx
const devopsPipeline = `
  // DevOps Infrastructure
  dev: Developer [person]
  
  level 0 {
    github: GitHub [vcs]
    ci: GitHub Actions [ci]
  }
  
  level 1 {
    registry: Docker Registry [registry]
    k8s: Kubernetes [orchestrator]
  }
  
  level 2 {
    app: Application Pod [pod]
    db: Database Pod [pod]
    monitoring: Monitoring Stack [pod]
  }
  
  dev -> github: Push code
  github -> ci: Trigger build
  ci -> registry: Push image
  ci -> k8s: Deploy
  k8s -> app: Manages
  k8s -> db: Manages
  k8s -> monitoring: Monitors
`;

<LayerFlowViewer
  code={devopsPipeline}
  theme="devops"
  layout="hierarchical"
  height="600px"
/>
```

---

## üìà Roadmap

- [ ] –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–∞—Ä—Å–µ—Ä–æ–º –∏ core
- [ ] Live-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ bidirectional sync
- [ ] Collaborative editing —Å Yjs
- [ ] Plugin —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∏ touch-–∂–µ—Å—Ç—ã
- [ ] WebGL —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º C4, DevOps, Kubernetes
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞–º–∏

---

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏–Ω–≥

* Pull requests, –±–∞–≥–∏, –∏–¥–µ–∏ –∏ RFC ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!
* [CONTRIBUTING.md](https://github.com/layerflow-org/layerflow/blob/main/CONTRIBUTING.md)
* Issues –∏ –æ–±—Å—É–∂–¥–µ–Ω–∏—è: [GitHub Issues](https://github.com/layerflow-org/layerflow/issues)

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

* **MPL 2.0** ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ —Å –∑–∞—â–∏—Ç–æ–π –∫–æ–º—å—é–Ω–∏—Ç–∏. 